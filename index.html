<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Jamie Laurin Project1</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  <link href="https://raw.githubusercontent.com/plotly/datasets/master/custom_heatmap_colorscale.json" rel="stylesheet"/>
  <link rel="stylesheet" href="style.css"/>
</head>
<body>

<div class="container pt-5 text-center">

  <div id="header" class="py-4">
    <h1>Project 1: 1854 London Cholera Outbreak</h1>

    <div class="text-end"><h5>Jamie Laurin</h5>
      <a href="https://jamielaurin.github.io/">https://jamielaurin.github.io/</a>
      <div>jlaurin8@hawaii.edu</div>
    </div>
  </div>
<div class="container pt-5">
  <h2>London Cholera Attacks and Outbreaks</h2>
  <div class="d-flex justify-content-center" id="myTable"></div>
  <div id="myLine" ></div>
</div>

  <div class="row py-5">
    <h2>Naples: Male vs Female Deaths per 10,000</h2>
  <div class="col" id="table2"></div>
  <div class="col" id="myBar"></div>
  </div>

  <h2>1851 UK Population and Age Group Breakdown</h2>
  <div class="d-flex justify-content-center" id="table3" style="width: 100%"></div>

  <div class="row">
    <h3> Male vs Female Distribution</h3>
    <div class="col" id="bar2" style="width:100%"></div>
    <div class="col" id="pieBoth" style="width:100%"></div>
  </div>

  <div class="row">
    <h3 class="text-left">Male Age Distribution</h3>
    <div class="col" id="bar3" ></div>
    <div class="col" id="pieMen" ></div>
  </div>
  <div class="row">
    <h3>Female Age Distribution</h3>
    <div class="col" id="bar4" ></div>
    <div class="col" id="pieWomen" style="width:100%"></div>
  </div>

  <h2 class="pt-5">Map of Cholera Fatalities</h2>
  <div id="myMap" style="width:100%"></div>


  <footer>
    <div class="container py-4">
      <div class="row">
        <div class="col">
          RESOURCES
          <hr/>
          <div>Created with <a href="https://plotly.com/javascript/">Plotly.js</a></div>
          <div>
            <a href="https://assets.cambridge.org/assets/assets.jsf">London Cholera</a>
          </div>
          <div>
            <a href="https://www.nejm.org/doi/full/10.1056/NEJM199610103351520">Naples in the Time of Cholera</a>
          </div>
          <div>
            <a href="https://www.visionofbritain.org.uk/">UK Census Data</a>
          </div>
        </div>
      </div>
    </div>
  </footer>



  <div id="chart-codes">
    <script id="table">
      Plotly.d3.csv("choleraDeaths.csv", function(err, rows){

        function unpack(rows, key) {
          return rows.map(function(row) { return row[key]; });
        }

        var headerNames = Plotly.d3.keys(rows[0]);

        var headerValues = [];
        var cellValues = [];
        for (i = 0; i < headerNames.length; i++) {
          headerValue = [headerNames[i]];
          headerValues[i] = headerValue;
          cellValue = unpack(rows, headerNames[i]);
          cellValues[i] = cellValue;
        }

        // clean date
        for (i = 0; i < cellValues[1].length; i++) {
          var dateValue = cellValues[1][i].split(' ')[0]
          cellValues[1][i] = dateValue
        }

        var data = [{
          type: 'table',
          columnwidth: [200,300,300,300,300,300,300,300,300],
          columnorder: [0,1,2,3,4,5,6,7,8,9],
          header: {
            values: headerValues,
            align: "center",
            line: {width: 1, color: 'black'},
            fill: {color: "#e9b000"},
            font: {family: "Arial", size: 11, color: "white"}
          },
          cells: {
            values: cellValues,
            align: ["center", "center"],
            line: {color: "black", width: 1},
            font: {family: "Arial", size: 10, color: ["black"]}
          }
        }]

        var layout = {
          height: 600,
          width: 800,
        }

        Plotly.plot('myTable', data, layout, {showSendToCloud: true});
      });
    </script>


    <script id="Line Chart">
     const CSV = "choleraDeaths.csv";

      function plotFromCSV() {
        Plotly.d3.csv(CSV, function(err, rows) {
          console.log(rows);
          processData(rows);
        });
      }

      function processData(allRows) {
        let x = [];
        let y1 = [];
        let y2 = [];
        let y3 = [];
        let y4 = [];
        let row;

        let i = 0;
        while (i < allRows.length) {
          row = allRows[i];
          x.push(row["Date"]);
          y1.push(row["Attack"]);
          y2.push(row["Death"]);
          y3.push(row["Total Attacks"]);
          y4.push(row["Total Deaths"]);
          i += 1;
        }

        console.log("X", x);
        console.log("Y1", y1);

        makePlotly(x, y1, y2, y3, y4);
      }

      function makePlotly(x, y1, y2, y3, y4) {
        let traces = [
          {
            x: x,
            y: y1,
            name: "Attack",
            line: {
              color: "#e24e42",
              width: 3
            }
          },
          {
            x: x,
            y: y2,
            name: "Death",
            line: {
              color: "#e9b000",
              width: 3,
            }
          },
          {
            x: x,
            y: y3,
            name: "Total Attacks",
            line: {
              color: "#eb6e80",
              width: 3
            }
          },
          {
            x: x,
            y: y4,
            name: "Total Deaths",
            line: {
              color: "#008f95",
              width: 3
            }
          }
        ];

        let layout = {
          title: "1854 London Cholera Outbreak",
          yaxis: {
            title: 'Attacks and Deaths',
            range: [0, 700]
          },
          xaxis: {
          },
        };

        let config = {
          responsive: true,
        };
        Plotly.newPlot("myLine", traces, layout, config);
      }

      plotFromCSV();

    </script>

    <script id="table-2">
      Plotly.d3.csv("naplesCholeraAgeSexData.csv", function(err, rows){

        function unpack(rows, key) {
          return rows.map(function(row) { return row[key]; });
        }

        var headerNames = Plotly.d3.keys(rows[0]);

        var headerValues = [];
        var cellValues = [];
        for (i = 0; i < headerNames.length; i++) {
          headerValue = [headerNames[i]];
          headerValues[i] = headerValue;
          cellValue = unpack(rows, headerNames[i]);
          cellValues[i] = cellValue;
        }

        // clean date
        for (i = 0; i < cellValues[1].length; i++) {
          var dateValue = cellValues[1][i].split(' ')[0]
          cellValues[1][i] = dateValue
        }

        var data = [{
          type: 'table',
          columnwidth: [200,300,300,300,300,300,300,300,300],
          columnorder: [0,1,2,3,4,5,6,7,8,9],
          header: {
            values: headerValues,
            align: "center",
            line: {width: 1, color: 'black'},
            fill: {color: "#e9b000"},
            font: {family: "Arial", size: 11, color: "white"}
          },
          cells: {
            values: cellValues,
            align: ["center", "center"],
            line: {color: "black", width: 1},
            font: {family: "Arial", size: 10, color: ["black"]}
          }
        }]

        var layout = {

          height: 400,
          width: 600,
        }

        Plotly.plot('table2', data, layout, {showSendToCloud: true});
      });
    </script>

    <script id="bar">
      var trace1 = {
        x: ['0-1', '2-5', '6-10', '11-15', '16-20', '21-40','41-60', '61-80','over 80'],
        y: [8.2,14.0,11.2,7.1,7.2,11.8,12.9,20.5,37.8],
        name: 'Male',
        marker:{
          color:["#008f95","#008f95","#008f95","#008f95","#008f95","#008f95","#008f95","#008f95","#008f95"]
        },
        type: 'bar'
      };

      var trace2 = {
        x: ['0-1', '2-5', '6-10', '11-15', '16-20', '21-40','41-60', '61-80','over 80'],
        y: [8.9,14.7,12.1,7.8,7.2,12.1,13.7,20.5,39.6],
        marker:{
          color:["#eb6e80","#eb6e80","#eb6e80","#eb6e80","#eb6e80","#eb6e80","#eb6e80","#eb6e80","#eb6e80"]
        },
        name: 'Female',
        type: 'bar'
      };

      var data = [trace1, trace2];
      var layout = {
        barmode: 'group',
          yaxis: {
            title: 'Fatality Rates'
          },
          xaxis: {
            title:'Age Groups'
          }

      };

      Plotly.newPlot('myBar', data, layout);

    </script>

    <script id="table-3">
      var values = [
        ['0-1', '2-5', '6-10', '11-15', '16-20', '21-40','41-60', '61-80','over 80', '<b>TOTAL</b>'],
        ['2,075,391','1,711,664','1,395,091','1,073,914','810,979','560,534','351,893','166,194','40,772','<b>8,186,432</b>'],
        ['2,065,096','1,711,627','1,542,876','1,140,383','845,260','592,970','399,019','199,326','55,704','<b>8,552,261</b>']
      ]
      var data = [{
        type: 'table',
        header: {
          values: [["<b>Age</b>"], ["<b>Male</b>"],
            ["<b>Female</b>"]],
          align: "center",
          line: {width: 1, color: 'black'},
          fill: {color: "#e9b000"},
          font: {family: "Arial", size: 12, color: "white"}
        },
        cells: {
          values: values,
          align: "center",
          line: {color: "black", width: 1},
          font: {family: "Arial", size: 11, color: ["black"]}
        }
      }]


      Plotly.newPlot('table3', data);

    </script>

    <script id="bar-2">
      var trace1 = {
        x: ['0-1', '2-5', '6-10', '11-15', '16-20', '21-40','41-60', '61-80','over 80'],
        y: ['2,075,391','1,711,664','1,395,091','1,073,914','810,979','560,534','351,893','166,194','40,772'],
        marker:{
          color:['#80dfff','#80dfff','#80dfff','#80dfff','#80dfff','#80dfff','#80dfff','#80dfff','#80dfff']
        },
        name: 'Male',
        type: 'bar'
      };

      var trace2 = {
        x: ['0-1', '2-5', '6-10', '11-15', '16-20', '21-40','41-60', '61-80','over 80'],
        y: ['2,065,096','1,711,627','1,542,876','1,140,383','845,260','592,970','399,019','199,326','55,704'],
        marker:{
          color:['#ff80d5','#ff80d5','#ff80d5','#ff80d5','#ff80d5','#ff80d5','#ff80d5','#ff80d5','#ff80d5']
        },
        name: 'Female',
        type: 'bar'
      };

      var data = [trace1, trace2];
      var layout = { barmode: 'group',
        yaxis: {
          title: 'Population(millions)'
        },
          xaxis: {
            title: 'Age Groups'
          }
        };

      Plotly.newPlot('bar2', data, layout);

    </script>

    <script id="pie-men">
      var data = [{
        values: [2075391, 1711664,1395091,1073914,810979,560534,351893,166194,40772],
        labels: ['0-1', '2-5', '6-10', '11-15', '16-20', '21-40','41-60', '61-80','over 80'],
        marker: {
          colors: ['#e6f9ff', '#b3ecff','#80dfff','#4dd2ff','#1ac6ff','#00ace6','#0086b3','#006080','#00394d']
        },
        type: 'pie'
      }];

      var layout = {
        height: 400,
        width: 500
      };

      Plotly.newPlot('pieMen', data, layout);
    </script>

    <script id="bar-3">
      var data = [
        {
          x: ['0-1', '2-5', '6-10', '11-15', '16-20', '21-40','41-60', '61-80','over 80'],
          y: ['2,075,391','1,711,664','1,395,091','1,073,914','810,979','560,534','351,893','166,194','40,772'],
          marker:{
            color:
                ['#e6f9ff', '#b3ecff','#80dfff','#4dd2ff','#1ac6ff','#00ace6','#0086b3','#006080','#00394d']
          },
          type: 'bar'
        }
      ];
      var layout = {
        yaxis: {
          title: 'Population(millions)'
        },
        xaxis: {
          title: 'Age Groups'
        }
      };

      Plotly.newPlot('bar3', data, layout);


    </script>

    <script id="pie-women">
      var data = [{
        values: [2065096,1711627,1542876,1140383,845260,592970,399019,199326,55704],
        labels: ['0-1', '2-5', '6-10', '11-15', '16-20', '21-40','41-60', '61-80','over 80'],
        marker: {
          colors: ['#ffe6f7', '#ffb3e6', '#ff80d5', '#ff4dc4', '#ff1ab3','#e60099','#b30077','#800055','#4d0033']
        },
        type: 'pie'
      }];

      var layout = {
        height: 400,
        width: 500
      };

      Plotly.newPlot('pieWomen', data, layout);
    </script>

    <script id="bar-4">
      var data = [
        {
          x: ['0-1', '2-5', '6-10', '11-15', '16-20', '21-40','41-60', '61-80','over 80'],
          y: ['2,065,096','1,711,627','1,542,876','1,140,383','845,260','592,970','399,019','199,326','55,704'],
          marker:{
            color: ['#ffe6f7', '#ffb3e6', '#ff80d5', '#ff4dc4', '#ff1ab3','#e60099','#b30077','#800055','#4d0033']
          },
          type: 'bar'
        }
      ];

      var layout = {
        yaxis: {
          title: 'Population(millions)'
        },
        xaxis: {
          title: 'Age Groups'
        }
      };

      Plotly.newPlot('bar4', data, layout);


    </script>
    <script id="pie-both">
      var data = [{
        values: [8186432, 8552261],
        labels: ['Male', 'Female'],
        marker: {
          colors: ['#80dfff','#ff80d5']
        },
        type: 'pie'
      }];

      var layout = {
        height: 400,
        width: 500
      };

      Plotly.newPlot('pieBoth', data, layout);

    </script>

    <script id="map">
      var csv = Plotly.d3.csv('choleraDeathLocations.csv', function(data) {
        const deaths = [];
        const lat = [];
        const lon = [];

        for (item of data) {
          for (let i = 0; i < 3; i++) {
            deaths.push(Number(item.deaths));
            lat.push(item.lat);
            lon.push(item.lon);
          }
        }

      var data= [
        {
          name:'Deaths',
          type:'scattermapbox',
          lat: ['51.513361', '51.513317', '51.513262', '51.513204', '51.513184', '51.513359', '51.513328', '51.513323', '51.513427', '51.513381', '51.513462', '51.513216', '51.513169', '51.513116', '51.51324', '51.513164', '51.513178', '51.513111', '51.513055', '51.513441', '51.513592', '51.513402', '51.51338', '51.513411', '51.513641', '51.513693', '51.513745', '51.513676', '51.51359', '51.513663', '51.513502', '51.513583', '51.513541', '51.513298', '51.513291', '51.513013', '51.512965', '51.512893', '51.512964', '51.513025', '51.513027', '51.512831', '51.512885', '51.512526', '51.512465', '51.512428', '51.512415', '51.51251', '51.512378', '51.512447', '51.512491', '51.512374', '51.512339', '51.512364', '51.512319', '51.51254', '51.512649', '51.512692', '51.512957', '51.512765', '51.51278', '51.512726', '51.512681', '51.512914', '51.513046', '51.513074', '51.513087', '51.513122', '51.513187', '51.513214', '51.513249', '51.513271', '51.5133', '51.51316', '51.513016', '51.512921', '51.51289', '51.512859', '51.51283', '51.512782', '51.512729', '51.512868', '51.512723', '51.512654', '51.512713', '51.512615', '51.512491', '51.512449', '51.512465', '51.512413', '51.512358', '51.512271', '51.512355', '51.511991', '51.512083', '51.512031', '51.51197', '51.511882', '51.51205', '51.51225', '51.512162', '51.512212', '51.512573', '51.512575', '51.512672', '51.512727', '51.512794', '51.512846', '51.512879', '51.512939', '51.512765', '51.512844', '51.512532', '51.512198', '51.512215', '51.513154', '51.513056', '51.513165', '51.513098', '51.513238', '51.513293', '51.513379', '51.513431', '51.513475', '51.513422', '51.513528', '51.513481', '51.513594', '51.513227', '51.51318', '51.513132', '51.513048', '51.513006', '51.512883', '51.51327', '51.513459', '51.513431', '51.513402', '51.512593', '51.512585', '51.512555', '51.512521', '51.513137', '51.513228', '51.513152', '51.513258', '51.513544', '51.513626', '51.513637', '51.513524', '51.51382', '51.513724', '51.513704', '51.513831', '51.513915', '51.513597', '51.514032', '51.513891', '51.513758', '51.514065', '51.514146', '51.514201', '51.51423', '51.514319', '51.514377', '51.514357', '51.514382', '51.514402', '51.514522', '51.514497', '51.514472', '51.514504', '51.514546', '51.514561', '51.514594', '51.514581', '51.514606', '51.515834', '51.515195', '51.515149', '51.514818', '51.514843', '51.514914', '51.514496', '51.514743', '51.514467', '51.514453', '51.514845', '51.514389', '51.514399', '51.514335', '51.514224', '51.51422', '51.514145', '51.514108', '51.514359', '51.514326', '51.514544', '51.514569', '51.514586', '51.514612', '51.514575', '51.514507', '51.514274', '51.514293', '51.514058', '51.514148', '51.513961', '51.514027', '51.514076', '51.514096', '51.514134', '51.514033', '51.513996', '51.51396', '51.513945', '51.513821', '51.513999', '51.513795', '51.513766', '51.513726', '51.513692', '51.513672', '51.513603', '51.513482', '51.513458', '51.513429', '51.513404', '51.513359', '51.513378', '51.513855', '51.513875', '51.513565', '51.513616', '51.513742', '51.513918', '51.513772', '51.513502', '51.513712', '51.513644', '51.513711', '51.514061', '51.514748', '51.514794', '51.514526', '51.514706', '51.512311', '51.511998', '51.511856'],
          lon: ['-0.137883', '-0.137853', '-0.137812', '-0.137767', '-0.137537', '-0.1382', '-0.138045', '-0.138276', '-0.138223', '-0.138337', '-0.138563', '-0.138426', '-0.138378', '-0.138337', '-0.138645', '-0.138698', '-0.137924', '-0.137865', '-0.137811', '-0.138762', '-0.138799', '-0.139045', '-0.13897', '-0.138863', '-0.138752', '-0.138808', '-0.138856', '-0.138887', '-0.139239', '-0.139321', '-0.139316', '-0.139616', '-0.139719', '-0.140074', '-0.139094', '-0.139697', '-0.139327', '-0.139317', '-0.139187', '-0.139036', '-0.139209', '-0.138427', '-0.138624', '-0.138096', '-0.138035', '-0.137984', '-0.138065', '-0.138194', '-0.137818', '-0.137656', '-0.137584', '-0.13765', '-0.13745', '-0.137376', '-0.137327', '-0.13698', '-0.13718', '-0.137052', '-0.137695', '-0.137533', '-0.137419', '-0.137368', '-0.137325', '-0.137531', '-0.137562', '-0.137466', '-0.137386', '-0.137306', '-0.137089', '-0.136996', '-0.136859', '-0.136778', '-0.136705', '-0.136493', '-0.13633', '-0.136424', '-0.136523', '-0.136599', '-0.136699', '-0.136819', '-0.136973', '-0.136358', '-0.13663', '-0.136584', '-0.136423', '-0.136345', '-0.136437', '-0.136377', '-0.136197', '-0.136142', '-0.136102', '-0.13603', '-0.13631', '-0.13594', '-0.135858', '-0.1358', '-0.135717', '-0.135119', '-0.135144', '-0.135394', '-0.135409', '-0.135472', '-0.135765', '-0.135871', '-0.135976', '-0.136033', '-0.136115', '-0.13618', '-0.136083', '-0.136139', '-0.135329', '-0.135122', '-0.134645', '-0.134522', '-0.134967', '-0.135098', '-0.134394', '-0.134505', '-0.134437', '-0.134594', '-0.13464', '-0.134709', '-0.134756', '-0.135244', '-0.134897', '-0.135158', '-0.135344', '-0.135063', '-0.135801', '-0.135762', '-0.13574', '-0.135645', '-0.135602', '-0.135501', '-0.135832', '-0.136049', '-0.13614', '-0.136228', '-0.134999', '-0.134793', '-0.134896', '-0.135', '-0.133483', '-0.133265', '-0.133296', '-0.132933', '-0.133998', '-0.134042', '-0.134156', '-0.134091', '-0.134272', '-0.13422', '-0.134704', '-0.134782', '-0.13501', '-0.134923', '-0.134885', '-0.134212', '-0.134135', '-0.134364', '-0.134447', '-0.134479', '-0.134658', '-0.134367', '-0.134179', '-0.13416', '-0.134069', '-0.134085', '-0.133821', '-0.133922', '-0.13385', '-0.133725', '-0.133745', '-0.133676', '-0.133563', '-0.133467', '-0.133393', '-0.134474', '-0.135259', '-0.135395', '-0.136022', '-0.136804', '-0.136583', '-0.135653', '-0.135578', '-0.13486', '-0.13469', '-0.134818', '-0.135704', '-0.135561', '-0.135649', '-0.135415', '-0.135576', '-0.135357', '-0.135475', '-0.136226', '-0.136328', '-0.136222', '-0.136117', '-0.13603', '-0.136266', '-0.136421', '-0.136935', '-0.136931', '-0.136799', '-0.13678', '-0.136696', '-0.136712', '-0.136123', '-0.135958', '-0.135883', '-0.135788', '-0.135849', '-0.136008', '-0.136099', '-0.13617', '-0.135485', '-0.135374', '-0.135582', '-0.135679', '-0.135814', '-0.135905', '-0.135992', '-0.136217', '-0.136579', '-0.136675', '-0.136764', '-0.136877', '-0.136953', '-0.13723', '-0.136651', '-0.136503', '-0.137367', '-0.137422', '-0.137472', '-0.1383', '-0.137363', '-0.137995', '-0.138139', '-0.138239', '-0.138272', '-0.138083', '-0.137912', '-0.137707', '-0.137108', '-0.137065', '-0.138474', '-0.138123', '-0.137762'] ,
          z: deaths,
          mode:'markers',
          marker: {
            size:10,
            color:"#d1091d"
          },
          text: ['2', '1', '1', '4', '2', '2', '2', '3', '2', '2', '1', '3', '1', '4', '1', '1', '1', '4', '3', '2', '1', '2', '2', '2', '1', '1', '3', '1', '1', '1', '1', '2', '2', '1', '1', '1', '1', '2', '8', '2', '1', '1', '1', '1', '1', '4', '1', '1', '1', '1', '4', '1', '1', '1', '1', '1', '2', '1', '1', '1', '2', '1', '1', '2', '2', '1', '2', '3', '1', '4', '15', '3', '4', '5', '2', '1', '2', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '2', '1', '1', '4', '2', '1', '4', '4', '1', '4', '1', '1', '2', '1', '2', '3', '1', '4', '1', '1', '7', '3', '8', '1', '1', '5', '8', '2', '1', '1', '2', '1', '2', '2', '3', '1', '2', '2', '3', '1', '2', '1', '1', '1', '1', '3', '3', '3', '3', '1', '2', '1', '1', '1', '2', '1', '1', '1', '2', '2', '1', '1', '1', '1', '1', '1', '1', '5', '1', '1', '2', '2', '1', '1', '1', '1', '2', '2', '5', '1', '1', '1', '1', '4', '1', '2', '1', '1', '1', '1', '1', '3', '1', '1', '2', '1', '1', '1', '1', '1', '2', '1', '1', '2', '3', '2', '1', '1', '1', '1', '1', '2', '3', '3', '1', '1', '3', '1', '1', '1', '1', '2', '2', '4', '5', '2', '5', '5', '3', '3', '1', '5', '4', '4', '1', '4', '1', '3', '2', '1', '2', '1', '1', '2', '3', '1', '1', '4', '2', '2', '1', '5', '3', '2', '3', '2', '1', '1', '1']
        },
        {
          name:'Water Pump',
          type:'scattermapbox',
          hoverinfo: 'name',
          lat:['51.513341','51.513876','51.514906','51.512354','51.512139','51.511542','51.510019','51.511295'],
          lon:['-0.136668','-0.139586','-0.139671','-0.13163','-0.133594','-0.135919','-0.133962','-0.138199'],
          mode:'markers',
          marker: {
            color: 'skyblue',
            size:12
          },
        },
      ]

      var layout = {
        autosize: true,
        hovermode:'closest',
        mapbox: {
          bearing:0,
          center: {
            lat:51.513341,
            lon:-0.136668
          },
          pitch:0,
          zoom:15
        },
      }

      Plotly.setPlotConfig({
        mapboxAccessToken: "pk.eyJ1IjoiamxhdXJpbjgiLCJhIjoiY2w4djZvOHh1MGF0MDNvbXYyMms3bnJ2diJ9.5eYv22I1Fs4fo75OaH8CIQ"
      })
      Plotly.newPlot('myMap', data, layout)
      });

    </script>
  </div>

</div>
</body>
</html>